{"version":3,"sources":["../../node_modules/web3-eth-accounts/src sync","getWeb3.js","DashboardCard.js","Dashboard.js","Navbar.js","BookingCard.js","MyBookings.js","PropertyCard.js","MyProperties.js","App.js","serviceWorker.js","index.js","RegisterProperty.js","getIPFS.js","dstays2.png","Utils.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","getWeb3","Promise","reject","window","addEventListener","a","ethereum","web3","Web3","enable","console","log","provider","providers","HttpProvider","SuperfluidSDK","require","DashboardCard","props","initiateSuperfluid","state","account","rent","owner","propertyDetail","fDAIxTokenAddress_Rinkeby","convertDollarToDAI","DAIPerSecond","sf","Framework","initialize","cfa","createFlow","superToken","sender","receiver","flowRate","toFixed","setState","transactionMessage","getNetFlow","flowDeductions","toString","error","showLoadingBackdrop","showSuccessBackdrop","getETHAmount","securityDeposit","contract","methods","getLatestPriceMATIC","call","responseMATIC","dollarToMatic","totalSecurityMaticDec","rentProperty","propertyId","checkInDate","checkOutDate","availableFrom","alert","checkInDateEpoch","Date","getTime","checkOutDateEpoch","availableFromEpoch","bookProperty","securityDepositETHCurrent","send","from","gasPrice","utils","toWei","gas","value","response","transactionHash","loadingMessage","dollarAmt","getLatestPriceDAI","responseDAI","DAI","bookPropertyHandle","securityDepositETH","refreshPage","location","reload","description","split","area","flatType","furnishing","imageURL","getDateFromEpoch","getFlatType","getFurnishing","address","contact","className","this","src","alt","href","onClick","Modal","show","backdrop","keyboard","aria-labelledby","centered","Header","closeButton","Title","Body","htmlFor","type","onChange","target","required","Footer","Button","variant","role","onHide","Component","Dashboard","getAllProperties","getProperties","data","filter","item","allProperties","length","map","key","Navbar","to","logo","data-toggle","data-target","aria-controls","aria-expanded","aria-label","BookingCard","property","imageURLs","imagesHash","startDate","endDate","checkoutDate","style","textAlign","width","MyBookings","getMyBookings","properties","bookings","tenant","mergedResult","reduce","b","c","i","Object","assign","myBookings","PropertyCard","cancelFLow","deleteFlow","by","returnDeposit","totalSecurityMatic","cancelBooking","propId","activateProperty","markPropertyAsActive","deActivateProperty","markPropertyAsInactive","showCancelButton","isBooked","showActivateButton","isActive","hidden","MyProperties","getMyProperies","getMyProperties","myProperties","App","storageValue","accounts","componentDidMount","eth","getAccounts","net","getId","networkId","deployedNetwork","PropertyRental","networks","instance","Contract","abi","on","runExample","getProperies","path","exact","render","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","RegisterProperty","setInitialState","deposit","selectedFiles","selectedFilesIPFSPath","fileHashString","ownerContact","ipfsClient","loadingBackdropTitle","onFileSelection","allFiles","files","file","reader","FileReader","readAsArrayBuffer","onloadend","newImage","buffer","Buffer","result","validatePhone","validator","isMobilePhone","setCustomValidity","handleSubmit","preventDefault","uploadAllFiles","uploadFileToIPFS","val","allHashPromises","all","allHashes","saveContract","IPFS","add","results","date","rentOutproperty","join","onSubmit","disabled","rows","overflow","resize","min","multiple","accept","URL","createObjectURL","ipfs","host","port","protocol","epoch","undefined","newDate","setUTCMilliseconds","toDateString"],"mappings":"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","file":"static/js/main.7586d8ea.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1468;","import Web3 from \"web3\";\n\nconst getWeb3 = () =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener(\"load\", async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n          // Acccounts now exposed\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        // Use Mist/MetaMask's provider.\n        const web3 = window.web3;\n        console.log(\"Injected web3 detected.\");\n        resolve(web3);\n      }\n      // Fallback to localhost; use dev console port by default...\n      else {\n        const provider = new Web3.providers.HttpProvider(\n          \"http://127.0.0.1:8545\"\n        );\n        const web3 = new Web3(provider);\n        console.log(\"No web3 instance injected, using Local web3.\");\n        resolve(web3);\n      }\n    });\n  });\n\nexport default getWeb3;\n","import React, { Component } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { getFurnishing, getDateFromEpoch, getFlatType } from './Utils';\r\nconst SuperfluidSDK = require(\"@superfluid-finance/js-sdk\");\r\n\r\nexport default class DashboardCard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const description = this.props.propertyDetail['propertyDescription'].split(';');\r\n        const area = this.props.propertyDetail['area'];\r\n        const availableFrom = this.props.propertyDetail['availableFrom'];\r\n        const flatType = this.props.propertyDetail['flatType'];\r\n        const furnishing = this.props.propertyDetail['furnishing'];\r\n        const rent = this.props.propertyDetail['rent'];\r\n        const securityDeposit = this.props.propertyDetail['securityDeposit'];\r\n        const imageURL = this.props.propertyDetail['imagesHash'].split(',')[0];\r\n        const propertyId = this.props.propertyDetail['propId'];\r\n\r\n        this.state = {\r\n            area: area,\r\n            availableFrom: getDateFromEpoch(availableFrom),\r\n            flatType: getFlatType(flatType),\r\n            furnishing: getFurnishing(furnishing),\r\n            rent: rent,\r\n            securityDeposit: securityDeposit,\r\n            securityDepositETH: 0,\r\n            address: description[0],\r\n            contact: description[1],\r\n            imageURL: imageURL,\r\n            propertyId: propertyId,\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            bookProperty: false,\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: false,\r\n            checkInDate: \"\",\r\n            checkOutDate: \"\",\r\n            transactionMessage: \"\",\r\n            loadingMessage: \"Booking...\"\r\n        }\r\n\r\n        // console.log(propertyId, this.props.contract, this.props.account);\r\n    }\r\n\r\n    initiateSuperfluid = async () => {\r\n        const { account, rent } = this.state;\r\n        const { owner } = this.props.propertyDetail;\r\n\r\n        const fDAIxTokenAddress_Rinkeby = '0x745861AeD1EEe363b4AaA5F1994Be40b1e05Ff90';\r\n        try {\r\n            const DAIPerSecond = await this.convertDollarToDAI(rent);\r\n\r\n            const sf = new SuperfluidSDK.Framework({\r\n                web3: this.props.web3\r\n            });\r\n            await sf.initialize();\r\n\r\n            await sf.cfa.createFlow({\r\n                superToken: fDAIxTokenAddress_Rinkeby,\r\n                sender: account,\r\n                receiver: owner,\r\n                flowRate: DAIPerSecond.toFixed(0)\r\n            });\r\n\r\n            console.log(sf);\r\n\r\n            this.setState({ transactionMessage: `${this.state.transactionMessage} \\n Your superfluid flow has started. Check https://superfluid.finance/` });\r\n\r\n            const flowDeductions = (await sf.cfa.getNetFlow({ superToken: fDAIxTokenAddress_Rinkeby, account: account })).toString();\r\n            console.log(flowDeductions);\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n        this.setState({\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true\r\n        });\r\n    }\r\n\r\n    getETHAmount = async (securityDeposit, contract) => {\r\n        const responseMATIC = await contract.methods.getLatestPriceMATIC().call();\r\n        const dollarToMatic = responseMATIC;\r\n        const totalSecurityMaticDec = ((securityDeposit * 10 ** 26) / dollarToMatic);\r\n        return totalSecurityMaticDec.toFixed(0);\r\n    }\r\n\r\n    rentProperty = async () => {\r\n        const { account, contract, propertyId, checkInDate, checkOutDate, availableFrom, securityDeposit } = this.state;\r\n        const { web3 } = this.props;\r\n\r\n        if (checkInDate === \"\" || checkOutDate === \"\" || checkInDate > checkOutDate) {\r\n            alert(\"Check-out date must be after Check-in date\");\r\n            return;\r\n        }\r\n\r\n        const checkInDateEpoch = new Date(checkInDate).getTime();\r\n        const checkOutDateEpoch = new Date(checkOutDate).getTime();\r\n        const availableFromEpoch = new Date(availableFrom).getTime();\r\n\r\n        if (checkInDateEpoch < availableFromEpoch - 1) {\r\n            alert(\"Check-in date must be after Available date\");\r\n            return;\r\n        }\r\n\r\n        console.log(availableFromEpoch, checkInDateEpoch, checkOutDateEpoch);\r\n        this.setState({ bookProperty: false, showLoadingBackdrop: true });\r\n\r\n        try {\r\n            // contract.methods.rentProperty.estimateGas({ from: account })\r\n            //     .then(function (gasAmount) {\r\n            //         console.log(`Estimation: ${gasAmount}`);\r\n            //     })\r\n            //     .catch(function (error) {\r\n            //         console.error(error);\r\n            //     });\r\n\r\n            const securityDepositETHCurrent = await this.getETHAmount(securityDeposit, this.props.contract);\r\n            // Sending security amount to owner\r\n            const response = await contract.methods.rentProperty(\r\n                propertyId, checkInDateEpoch, checkOutDateEpoch\r\n            )\r\n                .send({\r\n                    from: account,\r\n                    gasPrice: web3.utils.toWei(\"3\", 'gwei'),\r\n                    gas: 210000,\r\n                    value: web3.utils.toWei(securityDepositETHCurrent.toString(), 'wei')\r\n                });\r\n\r\n            // console.log(response);\r\n            // console.log(this.state);\r\n            this.setState({ transactionMessage: `Success! \\n  Deposit-TxHash:${response.transactionHash} \\n`, loadingMessage: 'Innitiating Superfluid Rent flow.' });\r\n            await this.initiateSuperfluid();\r\n\r\n        } catch (error) {\r\n            this.setState({ transactionMessage: `Failed!` });\r\n            console.error(error);\r\n        }\r\n        this.setState({\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true\r\n        });\r\n    }\r\n\r\n    // Chainlink call for converting Dollat to Matic using priceFeed\r\n    convertDollarToDAI = async (dollarAmt) => {\r\n        const { contract } = this.state;\r\n        const responseDAI = await contract.methods.getLatestPriceDAI().call();\r\n        const DAI = (dollarAmt * 10 ** 8) / responseDAI;\r\n        return (DAI * 10 ** 18) / (3600 * 24 * 30);\r\n    }\r\n\r\n    bookPropertyHandle = async () => {\r\n        let securityDepositETH = await this.getETHAmount(this.state.securityDeposit, this.props.contract);\r\n        this.setState({ bookProperty: true, securityDepositETH: securityDepositETH });\r\n        // console.log(this.state);\r\n    }\r\n\r\n    refreshPage = () => {\r\n        window.location.reload();\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Property w-100 p-2\">\r\n                <div className=\"card card-product-list bg-light mb-3\">\r\n                    <div className=\"row no-gutters\">\r\n                        <div className=\"col-md-3 p-3 align-middle\">\r\n                            {this.state.imageURL !== \"\" ?\r\n                                <img src={`https://ipfs.io/ipfs/${this.state.imageURL}`} className=\"img-thumbnail rounded mx-auto d-block\" alt=\"...\" />\r\n                                : <span className=\"rent h6\">No images</span>\r\n                            }\r\n                        </div>\r\n                        <div className=\"col-md-6 p-2\">\r\n                            <div className=\"info-main\">\r\n                                <div className=\"h3 title property-title\"> {this.state.flatType} - {this.state.furnishing} </div>\r\n                                <dl className=\"row property-description\">\r\n                                    <dt className=\"col-sm-3\">Address</dt>\r\n                                    <dd className=\"col-sm-9\">{this.state.address}</dd>\r\n\r\n                                    <dt className=\"col-sm-3\">Area</dt>\r\n                                    <dd className=\"col-sm-9\">{this.state.area} sqft.</dd>\r\n\r\n                                    <dt className=\"col-sm-3\">Schedule Visit</dt>\r\n                                    <dd className=\"col-sm-9\"><a href={`tel:${this.state.contact}`} className=\"text-decoration-none link-info\">{this.state.contact}</a></dd>\r\n                                </dl>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-sm-3 p-2\">\r\n                            <div className=\"info-aside\">\r\n                                <div className=\"price-wrap\">\r\n                                    <span className=\"rent h5 text-end\">Rent: $ {this.state.rent} </span>\r\n                                    <br />\r\n                                    <span className=\"rent h5\">Security: $ {this.state.securityDeposit} </span>\r\n                                </div>\r\n                                <br />\r\n                                <p>\r\n                                    <button className=\"btn btn-primary btn-block\"\r\n                                        onClick={this.bookPropertyHandle}\r\n                                    > Details </button>\r\n                                </p>\r\n                                <p>\r\n                                    Available from: <span className=\"rent h6\"> {this.state.availableFrom} </span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Modal\r\n                    show={this.state.bookProperty}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Details</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"col-md-6 mb-3\">\r\n                                <label htmlFor=\"inputDOB\">Check-in Date</label>\r\n                                <input type=\"date\" className=\"form-control\"\r\n                                    value={this.state.checkInDate} onChange={(e) => { this.setState({ checkInDate: e.target.value }) }}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"col-md-6 mb-3\">\r\n                                <label htmlFor=\"inputDOB\">Check-out Date</label>\r\n                                <input type=\"date\" className=\"form-control\"\r\n                                    value={this.state.checkOutDate} onChange={(e) => { this.setState({ checkOutDate: e.target.value }) }}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"col\">\r\n                                <h3><span className=\"badge bg-info\">ETH {this.state.securityDepositETH / 10 ** 18} + Gas Fee</span></h3>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => this.setState({ bookProperty: false })}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"primary\" onClick={this.rentProperty}>\r\n                            Book\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    show={this.state.showLoadingBackdrop}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.state.loadingMessage}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-grow\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    show={this.state.showSuccessBackdrop}\r\n                    onHide={this.refreshPage}\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Message </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.state.transactionMessage}\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Property from './DashboardCard';\r\n\r\nexport class Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            allProperties: []\r\n        }\r\n    }\r\n\r\n    getAllProperties = async () => {\r\n        const { account, contract } = this.state;\r\n\r\n        const response = await contract.methods.getProperties(0).call();\r\n        const data = response[0].filter(item => item.owner !== \"0x0000000000000000000000000000000000000000\");\r\n        console.log(response);\r\n        this.setState({ allProperties: data });\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllProperties();\r\n    }\r\n\r\n    render() {\r\n        const { allProperties } = this.state;\r\n        return (\r\n            <div className=\"Dashboard\">\r\n                <div className=\"jumbotron jumbotron-fluid bg-transparent m-0\">\r\n                    <div className=\"container container-fluid p-5\">\r\n                        <header className=\"section-heading\">\r\n                            <h1 className=\"section-title text-center\">Catalog</h1>\r\n                        </header>\r\n                        <div className=\"container container-fluid p-5\">\r\n                            <div className=\"list-group mx-auto\">\r\n                                {\r\n                                    // console.log(this.state.allProperties)\r\n                                    allProperties.length > 0 ?\r\n                                        allProperties.map((item, key) => {\r\n                                            return <Property key={key} propertyDetail={item} account={this.state.account} contract={this.state.contract} web3={this.props.web3} />\r\n                                        })\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport logo from './dstays2.png';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav\r\n                className=\"navbar navbar-expand-lg fixed-top navbar-dark shadow-lg\"\r\n            >\r\n                <Link className=\"navbar-brand navbar-nav\" to=\"/\">\r\n                    <img src={logo} />\r\n                </Link>\r\n                <button\r\n                    className=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#navbarTogglerDemo02\"\r\n                    aria-controls=\"navbarTogglerDemo02\"\r\n                    aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\"\r\n                >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\r\n                    <ul className=\"navbar-nav mr-auto\"></ul>\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        <li className=\"nav-item active\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\r\n                            <Link className=\"nav-link\" to=\"/\"><h5>Dashboard</h5></Link>\r\n                        </li>\r\n                        <li className=\"nav-item active\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\r\n                            <Link className=\"nav-link\" to=\"/property\"><h5>Rent Out</h5></Link>\r\n                        </li>\r\n                        <li className=\"nav-item active\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\r\n                            <Link className=\"nav-link\" to=\"/bookings\"><h5>My Bookings</h5></Link>\r\n                        </li>\r\n                        <li className=\"nav-item active\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\r\n                            <Link className=\"nav-link\" to=\"/properties\"><h5>My Properties</h5></Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getFurnishing, getDateFromEpoch, getFlatType } from './Utils';\r\nconst SuperfluidSDK = require(\"@superfluid-finance/js-sdk\");\r\n\r\nexport default class BookingCard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const property = this.props.propertyDetail;\r\n\r\n        const imageURLs = property.imagesHash !== \"\" ? property.imagesHash.split(\",\") : [];\r\n        const description = property['propertyDescription'].split(';');\r\n        // console.log(this.props.propertyDetail);\r\n        this.state = {\r\n            imageURLs: imageURLs,\r\n            contact: description[1],\r\n            address: description[0],\r\n            startDate: getDateFromEpoch(property.checkInDate),\r\n            endDate: getDateFromEpoch(property.checkoutDate),\r\n            property: property,\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state.imageURLs);\r\n        return (\r\n            <div className=\"booking w-100 p-2\" style={{ textAlign: '-webkit-center' }}>\r\n                <div className=\"card\" style={{ width: '60%' }}>\r\n                    {this.state.imageURLs.length > 0 ? <img className=\"card-img-top\" src={`https://ipfs.io/ipfs/${this.state.imageURLs[0]}`} alt=\"Prop image\" />\r\n                        : <img className=\"card-img-top\" src=\"https://ipfs.io/ipfs/Qmdg4hnwMimppNT3XhyABLf4UrCWgfiw9YvMC6TH1Jmr2m\" alt=\"Prop image\" />}\r\n                    <div className=\"card-body\">\r\n                        {/* <h5 className=\"card-title lead\">PropertyId: {this.state.property.propId}</h5> */}\r\n                        <h3 className=\"text-muted card-text\">{this.state.address}</h3>\r\n                        <div className=\"info-main\">\r\n                            <dl className=\"row property-description\">\r\n                                <dt className=\"col-sm-4\">Start Date</dt>\r\n                                <dd className=\"col-sm-8\">{this.state.startDate}</dd>\r\n\r\n                                <dt className=\"col-sm-4\">End Date</dt>\r\n                                <dd className=\"col-sm-8\">{this.state.endDate}</dd>\r\n\r\n                                <dt className=\"col-sm-4\">Owner contact</dt>\r\n                                <dd className=\"col-sm-8\">{this.state.contact} </dd>\r\n\r\n                                <dt className=\"col-sm-4\">Security Deposit</dt>\r\n                                <dd className=\"col-sm-8\">${this.state.property.securityDeposit} </dd>\r\n\r\n                                <dt className=\"col-sm-4\">Rent</dt>\r\n                                <dd className=\"col-sm-8\">${this.state.property.rent} </dd>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Booking from './BookingCard';\r\n\r\nexport default class MyBookings extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            myBookings: []\r\n        }\r\n    }\r\n\r\n    getMyBookings = async () => {\r\n        const { account, contract } = this.state;\r\n        try {\r\n            const response = await contract.methods.getMyBookings(0, account).call();\r\n            const properties = response[0].filter(item => item.owner !== \"0x0000000000000000000000000000000000000000\");\r\n            const bookings = response[1].filter(item => item.tenant !== \"0x0000000000000000000000000000000000000000\");\r\n            const mergedResult = [properties, bookings].reduce((a, b) => a.map((c, i) => Object.assign({}, c, b[i])));\r\n            // console.log(properties, bookings);\r\n            // console.log(mergedResult);\r\n            this.setState({ myBookings: mergedResult });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getMyBookings();\r\n    }\r\n\r\n    render() {\r\n        const { myBookings } = this.state;\r\n        return (\r\n            <div className=\"my-bookings\">\r\n                <div className=\"jumbotron jumbotron-fluid bg-transparent m-0\">\r\n                    <div className=\"container container-fluid p-5\">\r\n                        <header className=\"section-heading\">\r\n                            <h1 className=\"section-title text-center\">My Bookings</h1>\r\n                        </header>\r\n                        <div className=\"container container-fluid p-5\">\r\n                            {\r\n                                myBookings.length > 0 ?\r\n                                    myBookings.map((item, key) => {\r\n                                        return <Booking key={key} propertyDetail={item} contract={this.state.contract} account={this.state.account} web3={this.props.web3} />\r\n                                    })\r\n                                    : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { getFurnishing, getDateFromEpoch, getFlatType } from './Utils';\r\nimport Modal from 'react-bootstrap/Modal';\r\nconst SuperfluidSDK = require(\"@superfluid-finance/js-sdk\");\r\n\r\nexport default class PropertyCard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        const property = this.props.propertyDetail;\r\n        console.log(property);\r\n        const imageURLs = property.imagesHash !== \"\" ? property.imagesHash.split(\",\") : [];\r\n        const description = property['propertyDescription'].split(';');\r\n        // console.log(property.isBooked);\r\n        this.state = {\r\n            imageURLs: imageURLs,\r\n            contact: description[1],\r\n            address: description[0],\r\n            startDate: property.checkInDate !== \"0\" ? getDateFromEpoch(property.checkInDate) : \"\",\r\n            endDate: property.checkoutDate !== \"0\" ? getDateFromEpoch(property.checkoutDate) : \"\",\r\n            property: property,\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: false,\r\n            transactionMessage: \"\",\r\n            showCancelButton: !property.isBooked,\r\n            showActivateButton: property.isActive,\r\n            tenant: property.tenant !== \"0x0000000000000000000000000000000000000000\" ? property.tenant : \"\"\r\n        }\r\n    }\r\n    cancelFLow = async () => {\r\n        const { property, account, contact } = this.state;\r\n        const { web3 } = this.props;\r\n\r\n        // this.setState({ showLoadingBackdrop: true });\r\n\r\n        const fDAIxTokenAddress_Rinkeby = '0x745861AeD1EEe363b4AaA5F1994Be40b1e05Ff90';\r\n        try {\r\n\r\n            const sf = new SuperfluidSDK.Framework({\r\n                web3: web3\r\n            });\r\n            await sf.initialize();\r\n\r\n            await sf.cfa.deleteFlow({\r\n                superToken: fDAIxTokenAddress_Rinkeby,\r\n                sender: property.tenant,\r\n                receiver: property.owner,\r\n                by: property.owner\r\n            });\r\n\r\n            this.setState({\r\n                transactionMessage: `${this.state.transactionMessage} \\n You are not paying rent anymore. Check with SuperFluid Dashboard.`\r\n            });\r\n            // console.log(sf);\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n        this.setState({\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true\r\n        });\r\n    }\r\n    returnDeposit = async () => {\r\n        const { account, contract, property } = this.state;\r\n        const { web3 } = this.props;\r\n\r\n        this.setState({ showLoadingBackdrop: true });\r\n        // console.log(property);\r\n        try {\r\n            const responseMATIC = await contract.methods.getLatestPriceMATIC().call();\r\n            const dollarToMatic = responseMATIC;\r\n            const totalSecurityMaticDec = ((property.securityDeposit * 10 ** 26) / dollarToMatic);\r\n            const totalSecurityMatic = totalSecurityMaticDec.toFixed(0);\r\n\r\n            const response = await contract.methods.cancelBooking(\r\n                property.propId\r\n            )\r\n                .send({\r\n                    from: property.owner,\r\n                    gasPrice: web3.utils.toWei(\"3\", 'gwei'),\r\n                    gas: 210000,\r\n                    value: web3.utils.toWei(totalSecurityMatic.toString(), 'wei')\r\n                });\r\n            this.setState({ transactionMessage: `Success! \\n  Deposit-TxHash:${response.transactionHash} \\n` });\r\n            console.log(response);\r\n            this.cancelFLow();\r\n        } catch (error) {\r\n            this.setState({\r\n                transactionMessage: `Failed!`,\r\n                showLoadingBackdrop: false,\r\n                showSuccessBackdrop: true\r\n            });\r\n            console.error(error);\r\n        }\r\n        // this.setState({\r\n        //     showLoadingBackdrop: false,\r\n        //     showSuccessBackdrop: true\r\n        // });\r\n    }\r\n\r\n    activateProperty = async () => {\r\n        const { contract, property } = this.state;\r\n\r\n        this.setState({ showLoadingBackdrop: true });\r\n        try {\r\n            const response = await contract.methods.markPropertyAsActive(\r\n                property.propId\r\n            )\r\n                .send({\r\n                    from: property.owner\r\n                });\r\n            this.setState({ transactionMessage: `Success! \\n  Deposit-TxHash:${response.transactionHash} \\n` });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n        this.setState({\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true\r\n        });\r\n    }\r\n\r\n    deActivateProperty = async () => {\r\n        const { contract, property } = this.state;\r\n\r\n        this.setState({ showLoadingBackdrop: true });\r\n        try {\r\n            const response = await contract.methods.markPropertyAsInactive(\r\n                property.propId\r\n            )\r\n                .send({\r\n                    from: property.owner\r\n                });\r\n            this.setState({ transactionMessage: `Success! \\n  Deposit-TxHash:${response.transactionHash} \\n` });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n        this.setState({\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true\r\n        });\r\n    }\r\n\r\n    refreshPage = () => {\r\n        window.location.reload();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"booking col-sm-6\" >\r\n                <div className=\"card\">\r\n                    {this.state.imageURLs.length > 0 ? <img className=\"card-img-top\" src={`https://ipfs.io/ipfs/${this.state.imageURLs[0]}`} alt=\"Prop image\" />\r\n                        : <img className=\"card-img-top\" src=\"https://ipfs.io/ipfs/Qmdg4hnwMimppNT3XhyABLf4UrCWgfiw9YvMC6TH1Jmr2m\" alt=\"Prop image\" />}\r\n                    <div className=\"card-body\">\r\n                        {/* <h5 className=\"card-title lead\">PropertyId: {this.state.property.propId}</h5> */}\r\n                        <h3 className=\"text-muted card-text\">{this.state.address}</h3>\r\n                        <div className=\"info-main\">\r\n                            <dl className=\"row property-description\">\r\n                                <dt className=\"col-sm-5\">Booked</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.property.isBooked ? \"Yes\" : \"No\"}</dd>\r\n\r\n                                <dt className=\"col-sm-5\">Tenant Address</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.tenant}</dd>\r\n\r\n                                <dt className=\"col-sm-5\">Start Date</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.startDate}</dd>\r\n\r\n                                <dt className=\"col-sm-5\">End Date</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.endDate}</dd>\r\n\r\n                                <dt className=\"col-sm-5\">Owner contact</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.contact} </dd>\r\n\r\n                                <dt className=\"col-sm-5\">Security Deposit</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.property.securityDeposit} </dd>\r\n\r\n                                <dt className=\"col-sm-5\">Rent</dt>\r\n                                <dd className=\"col-sm-5\">{this.state.property.rent} </dd>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n                    <button hidden={this.state.showCancelButton} onClick={this.returnDeposit} className=\"btn btn-danger\">Cancel Booking</button>\r\n                    <br/>\r\n                    <button hidden={this.state.showActivateButton} onClick={this.activateProperty} className=\"btn btn-primary\">Activate</button>\r\n                    <button hidden={!this.state.showActivateButton} onClick={this.deActivateProperty} className=\"btn btn-danger\">Deactivate</button>\r\n                </div>\r\n                <Modal\r\n                    show={this.state.showLoadingBackdrop}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Returning Deposit...</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-grow\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    show={this.state.showSuccessBackdrop}\r\n                    onHide={this.refreshPage}\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Message </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.state.transactionMessage}\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Property from './PropertyCard';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nexport default class MyProperties extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            myProperties: [],\r\n            bookings: []\r\n        }\r\n    }\r\n\r\n    getMyProperies = async () => {\r\n\r\n        const { account, contract } = this.state;\r\n        try {\r\n            const response = await contract.methods.getMyProperties(2, account).call();\r\n            const mergedResult = [response[0], response[1]].reduce((a, b) => a.map((c, i) => Object.assign({}, c, b[i])));\r\n            this.setState({ myProperties: mergedResult });\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.getMyProperies();\r\n    }\r\n\r\n    render() {\r\n        const { myProperties } = this.state;\r\n        return (\r\n            <div className=\"my-properties\">\r\n                <div className=\"jumbotron jumbotron-fluid bg-transparent m-0\">\r\n                    <div className=\"container container-fluid p-5\">\r\n                        <header className=\"section-heading\">\r\n                            <h1 className=\"section-title text-center\">My Properties</h1>\r\n                        </header>\r\n                        <div className=\"container container-fluid p-5\">\r\n                            <div className=\"row\">\r\n                                {\r\n                                    myProperties.length > 0 ?\r\n                                        myProperties.map((item, key) => {\r\n                                            return <Property key={key} propertyDetail={item} contract={this.state.contract} account={this.state.account} web3={this.props.web3} />\r\n                                        })\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\nimport PropertyRental from \"./contracts/PropertyRental.json\";\nimport getWeb3 from \"./getWeb3\";\nimport config from './config.json';\n\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.bundle.min\";\n\nimport {\n  // BrowserRouter as Router,\n  HashRouter as Router,\n  Route,\n  Switch,\n} from \"react-router-dom\";\n\nimport Dashboard from './Dashboard';\nimport Register from './RegisterProperty'\nimport Navbar from \"./Navbar\";\nimport MyBookings from './MyBookings';\nimport MyProperties from './MyProperties';\n\nclass App extends Component {\n  state = {\n    storageValue: 0,\n    web3: null,\n    accounts: null,\n    contract: null,\n    transactionHash: 'No transactions yet'\n  };\n\n  componentDidMount = async () => {\n    try {\n\n      // Get network provider and web3 instance.\n      const web3 = await getWeb3();\n\n      // Use web3 to get the user's accounts.\n      const accounts = await web3.eth.getAccounts();\n\n      // Get the contract instance.\n      const networkId = await web3.eth.net.getId();\n\n      const deployedNetwork = PropertyRental.networks[networkId];\n      const instance = new web3.eth.Contract(\n        PropertyRental.abi,\n        deployedNetwork && deployedNetwork.address,\n      );\n\n      // Set web3, accounts, and contract to the state, and then proceed with an\n      // example of interacting with the contract's methods.\n      this.setState(\n        {\n          web3, accounts, contract: instance\n        }\n        // , this.runExample\n      );\n\n      window.ethereum.on('accountsChanged', (accounts) => {\n        window.location.reload();\n      })\n\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      alert(\n        `Failed to load web3, accounts, or contract. Check console for details.`,\n      );\n      console.error(error);\n    }\n  };\n\n  runExample = async () => {\n    const { accounts, contract } = this.state;\n\n    // Stores a given value, 5 by default.\n    // const request = await contract.methods.rentOutproperty(\n    //   '3500 Deer Creek Road Palo Alto, CA 94304;8507783427',\n    //   1234, 1, 1613073764999, 0, 4500, 10000).send({ from: accounts[0] });\n\n    // console.log(request);\n\n    // Get the value from the contract to prove it worked.\n    const response = await contract.methods.getProperies().call();\n    console.log('Response', response);\n\n    // Update state with the result.\n    this.setState({ storageValue: response });\n  };\n\n  render() {\n    if (!this.state.web3) {\n      return <div>Loading Web3, accounts, and contract...</div>;\n    }\n    return (\n      <div className=\"App\">\n        <Router>\n          <Navbar />\n          <Route path=\"/\" exact render={\n            (props) => <Dashboard {...props} contract={this.state.contract} account={this.state.accounts[0]} web3={this.state.web3} />\n          } />\n          <Route path=\"/property\" exact render={\n            (props) => <Register {...props} contract={this.state.contract} account={this.state.accounts[0]} web3={this.state.web3} />\n          } />\n          <Route path=\"/bookings\" exact render={\n            (props) => <MyBookings {...props} contract={this.state.contract} account={this.state.accounts[0]} web3={this.state.web3} />\n          } />\n          <Route path=\"/properties\" exact render={\n            (props) => <MyProperties {...props} contract={this.state.contract} account={this.state.accounts[0]} web3={this.state.web3} />\n          } />\n        </Router>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { Component } from 'react';\r\nimport validator from 'validator';\r\nimport IPFS from './getIPFS';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nexport default class RegisterProperty extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            flatType: \"\",\r\n            furnishing: \"\",\r\n            area: \"\",\r\n            address: \"\",\r\n            availableFrom: \"\",\r\n            rent: \"\",\r\n            deposit: \"\",\r\n            selectedFiles: [],\r\n            selectedFilesIPFSPath: [],\r\n            fileHashString: \"\",\r\n            ownerContact: \"\",\r\n            ipfsClient: this.props.ipfsClient,\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            showLoadingBackdrop: false,\r\n            loadingBackdropTitle: \"Saving File...\",\r\n            showSuccessBackdrop: false,\r\n            transactionMessage: \"\"\r\n        }\r\n    }\r\n\r\n    setInitialState = () => {\r\n\r\n        this.setState({\r\n            flatType: \"\",\r\n            furnishing: \"\",\r\n            area: \"\",\r\n            address: \"\",\r\n            availableFrom: \"\",\r\n            rent: \"\",\r\n            deposit: \"\",\r\n            selectedFiles: [],\r\n            selectedFilesIPFSPath: [],\r\n            fileHashString: \"\",\r\n            ownerContact: \"\",\r\n            ipfsClient: this.props.ipfsClient,\r\n            contract: this.props.contract,\r\n            account: this.props.account,\r\n            loadingBackdropTitle: \"Saving File...\",\r\n            showLoadingBackdrop: false,\r\n            showSuccessBackdrop: true,\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    onFileSelection = (e) => {\r\n        const allFiles = e.target.files;\r\n        this.setState({ selectedFiles: [] });\r\n\r\n        for (const property in allFiles) {\r\n            if (typeof (allFiles[property]) !== 'object') continue;\r\n\r\n            let file = allFiles[property];\r\n            try {\r\n                const reader = new FileReader();\r\n\r\n                reader.readAsArrayBuffer(file);\r\n                reader.onloadend = () => {\r\n                    const newImage = {\r\n                        file: file,\r\n                        buffer: Buffer(reader.result)\r\n                    }\r\n                    this.setState({ selectedFiles: [...this.state.selectedFiles, newImage] });\r\n                }\r\n            } catch (error) {\r\n                console.error('File Error');\r\n            }\r\n        }\r\n    }\r\n\r\n    getFlatType = (flatType) => {\r\n        if (flatType === \"1RK\") {\r\n            return 0;\r\n        }\r\n        else if (flatType === \"1BHK\") {\r\n            return 1;\r\n        }\r\n        else if (flatType === \"2BHK\") {\r\n            return 2;\r\n        }\r\n        else if (flatType === \"3BHK\") {\r\n            return 3;\r\n        }\r\n    }\r\n\r\n    getFurnishing = (furnishing) => {\r\n        if (furnishing === \"None\") {\r\n            return 0;\r\n        }\r\n        else if (furnishing === \"SemiFurnished\") {\r\n            return 1;\r\n        }\r\n        else if (furnishing === \"FullyFurnished\") {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n    validatePhone = (e) => {\r\n        if (!validator.isMobilePhone(e.target.value)) {\r\n            e.target.setCustomValidity(\"Invalid Phone Number\");\r\n        } else {\r\n            e.target.setCustomValidity(\"\");\r\n        }\r\n        this.setState({ ownerContact: e.target.value });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ showLoadingBackdrop: true });\r\n        this.uploadAllFiles();\r\n    }\r\n\r\n    uploadAllFiles = async () => {\r\n        const { selectedFiles } = this.state;\r\n        const allHashPromises = await selectedFiles.map(async (file) => {\r\n            const val = await this.uploadFileToIPFS(file.buffer);\r\n            return val;\r\n        });\r\n\r\n        const allHashes = await Promise.all(allHashPromises)\r\n        this.setState({\r\n            loadingBackdropTitle: \"Processing your transaction\",\r\n            selectedFilesIPFSPath: [...this.state.selectedFilesIPFSPath, allHashes]\r\n        }, this.saveContract);\r\n    }\r\n\r\n    uploadFileToIPFS = async (file) => {\r\n        try {\r\n            let results = await IPFS.add(file.buffer);\r\n            return results['path'];\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    saveContract = async () => {\r\n        const { account, contract, address, availableFrom, area, flatType, furnishing, deposit, rent, ownerContact, selectedFilesIPFSPath } = this.state;\r\n        const date = new Date(availableFrom).getTime();\r\n        console.log(date);\r\n        const { web3 } = this.props;\r\n\r\n        try {\r\n            const response = await contract.methods.rentOutproperty(\r\n                `${address};${ownerContact}`,\r\n                area, this.getFurnishing(furnishing),\r\n                date, this.getFlatType(flatType),\r\n                rent, deposit,\r\n                selectedFilesIPFSPath.join(\",\")\r\n            )\r\n                .send({ from: account });\r\n\r\n            console.log(response);\r\n            console.log(this.state);\r\n            this.setState({ transactionMessage: `Success! \\n  TxHash:${response.transactionHash}` });\r\n        } catch (error) {\r\n            this.setState({ transactionMessage: `Failed!` });\r\n            console.error(error);\r\n        }\r\n\r\n        this.setInitialState();\r\n    }\r\n\r\n    render() {\r\n\r\n        const { selectedFiles } = this.state;\r\n\r\n        return (\r\n            <div className=\"jumbotron jumbotron-fluid bg-transparent m-0\">\r\n                <div className=\"container container-fluid p-5\">\r\n                    <header className=\"section-heading\">\r\n                        <h1 className=\"section-title text-center\">Rent out...</h1>\r\n                    </header>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-7\">\r\n                            <form onSubmit={this.handleSubmit}>\r\n                                <h3>\r\n                                    <small className=\"text-muted\">Property Details</small>\r\n                                </h3>\r\n                                <hr />\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputFirstName\">Flat Type</label>\r\n                                        <select id=\"inputBG\" className=\"form-control\"\r\n                                            value={this.state.flatType} onChange={(e) => { this.setState({ flatType: e.target.value }) }}\r\n                                            required\r\n                                        >\r\n                                            <option value=\"\" disabled></option>\r\n                                            <option value=\"1RK\">1 RK</option>\r\n                                            <option value=\"1BHK\">1 BHK</option>\r\n                                            <option value=\"2BHK\">2 BHK</option>\r\n                                            <option value=\"3BHK\">3 BHK</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputLastName\">Furnishing</label>\r\n                                        <select id=\"inputBG\" className=\"form-control\"\r\n                                            value={this.state.furnishing} onChange={(e) => { this.setState({ furnishing: e.target.value }) }}\r\n                                            required\r\n                                        >\r\n                                            <option value=\"\" disabled></option>\r\n                                            <option value=\"FullyFurnished\">Fully Furnished</option>\r\n                                            <option value=\"SemiFurnished\">Semi Furnished</option>\r\n                                            <option value=\"None\">None</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputUID\">Address</label>\r\n                                        <textarea type=\"text\" className=\"form-control\" rows=\"3\" style={{ overflow: 'auto', resize: 'none' }}\r\n                                            value={this.state.address} onChange={(e) => { this.setState({ address: e.target.value }) }}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputGender\">Area</label>\r\n                                        <input type=\"number\" min=\"1\" className=\"form-control\"\r\n                                            value={this.state.area} onChange={(e) => { this.setState({ area: e.target.value }) }}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputDOB\">Available From</label>\r\n                                        <input type=\"date\" className=\"form-control\"\r\n                                            value={this.state.availableFrom} onChange={(e) => { this.setState({ availableFrom: e.target.value }) }}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputDOB\">Contact</label>\r\n                                        <input type=\"text\" className=\"form-control\"\r\n                                            value={this.state.ownerContact}\r\n                                            onChange={this.validatePhone}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <h3>\r\n                                    <small className=\"text-muted\">Expenses</small>\r\n                                </h3>\r\n                                <hr />\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputState\">Rent</label>\r\n                                        <div className=\"input-group mb-2\">\r\n                                            <div className=\"input-group-prepend\">\r\n                                                <div className=\"input-group-text\">$</div>\r\n                                            </div>\r\n                                            <input type=\"number\" min=\"0\" className=\"form-control\"\r\n                                                value={this.state.rent} onChange={(e) => { this.setState({ rent: e.target.value }) }}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputCity\">Security Deposit</label>\r\n                                        <div className=\"input-group mb-2\">\r\n                                            <div className=\"input-group-prepend\">\r\n                                                <div className=\"input-group-text\">$</div>\r\n                                            </div>\r\n                                            <input type=\"number\" min=\"0\" className=\"form-control\"\r\n                                                value={this.state.deposit} onChange={(e) => { this.setState({ deposit: e.target.value }) }}\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <h3>\r\n                                    <small className=\"text-muted\">Property Images</small>\r\n                                </h3>\r\n                                <hr />\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"col-md-6 mb-3\">\r\n                                        <label htmlFor=\"inputReportFile\">Upload</label>\r\n                                        <input type=\"file\" className=\"form-control-file\" multiple=\"multiple\" accept=\"image/x-png,image/gif,image/jpeg\"\r\n                                            onChange={this.onFileSelection}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"col\">\r\n                                        <div className=\"row\">\r\n                                            {\r\n                                                selectedFiles.map((item, key) => {\r\n                                                    return <img key={key} src={URL.createObjectURL(item.file)} alt=\"...\" className=\"img-thumbnail img-thumbnail-custom rounded\" />\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div className=\"col-md-6 mb-3\">\r\n                                    <label htmlFor=\"emptyLabel\"></label>\r\n                                    <button type=\"submit\" className=\"btn btn-primary btn-block\">Register</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal\r\n                    show={this.state.showLoadingBackdrop}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    aria-labelledby=\"contained-modal-title-vcenter\"\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{this.state.loadingBackdropTitle}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-grow\" role=\"status\">\r\n                                <span className=\"sr-only\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n                <Modal\r\n                    show={this.state.showSuccessBackdrop}\r\n                    onHide={() => this.setState({ showSuccessBackdrop: false })}\r\n                    centered\r\n                >\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Message </Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        {this.state.transactionMessage}\r\n                    </Modal.Body>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","const IPFS = require('ipfs-http-client');\r\n\r\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\r\n\r\nexport default ipfs;","module.exports = __webpack_public_path__ + \"static/media/dstays2.46c9e478.png\";","exports.getFurnishing = function (furnishing) {\r\n    if (furnishing === \"0\") {\r\n        return \"Un-furnished\";\r\n    }\r\n    else if (furnishing === \"1\") {\r\n        return \"Semi-furnished\";\r\n    }\r\n    else {\r\n        return \"Full-furnished\";\r\n    }\r\n}\r\n\r\nexports.getFlatType = function (flatType) {\r\n    if (flatType === \"0\") {\r\n        return \"1RK\";\r\n    }\r\n    else if (flatType === \"1\") {\r\n        return \"1BHK\";\r\n    }\r\n    else if (flatType === \"2\") {\r\n        return \"2BHK\";\r\n    }\r\n    else {\r\n        return \"3BHK\";\r\n    }\r\n}\r\n\r\nexports.getDateFromEpoch = function (epoch) {\r\n    if (epoch === undefined) {\r\n        return \"\"\r\n    }\r\n    const newDate = new Date(0);\r\n    newDate.setUTCMilliseconds(epoch);\r\n    return newDate.toDateString();\r\n}"],"sourceRoot":""}